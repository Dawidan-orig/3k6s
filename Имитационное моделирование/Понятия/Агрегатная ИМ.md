Работает не на правилах, а на логике конструктора из каких-то компонентов.